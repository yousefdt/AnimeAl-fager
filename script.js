$(document).ready(function(){$("#navbar-show-btn").click(()=>$(".navbar-collapse").removeClass("translate-x-full")),$("#navbar-hide-btn").click(()=>$(".navbar-collapse").addClass("translate-x-full"));let e;$(window).on("resize",()=>{$(document.body).addClass("resize-animation-stopper"),clearTimeout(e),e=setTimeout(()=>{$(document.body).removeClass("resize-animation-stopper")},400)}),$(".game-slider").slick({className:"center",arrows:!0,centerMode:!0,infinite:!0,centerPadding:"60px",slidesToShow:3,slidesToScroll:1,speed:500,autoplay:!0,dots:!0,responsive:[{breakpoint:1400,settings:{slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2,initialSlide:2}},{breakpoint:768,settings:{slidesToShow:1,dots:!1}}]});let s=$(".button-group button"),t=$(".category-item"),a=$($(s)[0]).data("filter"),i=e=>{jQuery.each(s,function(s,t){$(t).data("filter")==e?$(t).addClass("active-filter-button"):$(t).removeClass("active-filter-button")})},n=e=>{jQuery.each(t,function(s,t){$(t).hasClass(e)?$(t).css("display","block"):$(t).css("display","none")})};i(a),n(a),jQuery.each(s,function(e,s){$(s).click(function(){let e=$(s).data("filter");i(e),n(e)})})});var attempts=3;function isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function scrollToSection(){"scrollBehavior"in document.documentElement.style?document.getElementById("anime-section").scrollIntoView({behavior:"smooth"}):document.getElementById("anime-section").scrollIntoView()}document.getElementById("subscribe-btn").addEventListener("click",function(e){e.preventDefault();var s=document.getElementById("subscribe-btn"),t=document.getElementById("loading-circle"),a=document.getElementById("subscribe-message"),i=document.getElementById("email"),n=i.value;if(!isValidEmail(n)){a.innerText="Please enter a valid email address.",a.classList.add("error-message"),a.classList.remove("success-message"),a.style.display="block",i.classList.add("error");return}s.disabled=!0,s.innerHTML="";var r=new FormData;r.append("email",n),t.style.display="inline-block",fetch("php/subscribe.php",{method:"POST",body:r}).then(e=>e.text()).then(e=>{e.includes("Subscription successful.")?(a.innerText="Subscription successful.",a.classList.add("success-message"),a.classList.remove("error-message"),i.classList.remove("error"),setTimeout(function(){window.location.href="index.html"},3e3)):(0==--attempts?a.innerText="You have reached the maximum number of attempts.":a.innerText="An error occurred while subscribing. Please try again. Attempts left: "+attempts,a.classList.add("error-message"),a.classList.remove("success-message"),i.classList.add("error"),s.disabled=!1,s.innerHTML='<i class="fa-solid fa-paper-plane"></i>'),a.style.display="block"}).catch(e=>{console.error("Error:",e),a.innerText="An error occurred while subscribing.",a.classList.add("error-message"),a.classList.remove("success-message"),a.style.display="block",s.disabled=!1,s.innerHTML='<i class="fa-solid fa-paper-plane"></i>'}).finally(()=>{t.style.display="none"})}),document.getElementById("email").addEventListener("input",function(){document.getElementById("subscribe-message").style.display="none",this.classList.remove("error")});let rating=document.getElementById("rating"),ratingNumber=document.getElementById("rating-number"),starIcon=document.getElementById("star-icon");rating.addEventListener("click",function(){let e=parseInt(ratingNumber.textContent);starIcon.src.endsWith("star.svg")?(starIcon.src="../assets/icons/star-black.svg",ratingNumber.textContent=e+1):(starIcon.src="../assets/icons/star.svg",ratingNumber.textContent=e-1)});